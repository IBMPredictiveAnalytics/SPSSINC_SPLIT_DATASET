<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta http-equiv="Content-Type" content=

"text/html; charset=utf-8">

  <title>変数に基づいて、アクティブ データセットを複数の SAV ファイルから成るコレクションとして分割する</title>
  <style type="text/css">

  <!-- 

  H1 {font-weight:bold; color:#006699; font-size:125%; }
  H2 {font-weight:bold; color:#006699; font-size:110%; }
  TABLE {font-size:100%;}

  /* paragraph tags */
  .step {text-indent: -1.3em; margin-left:1.3em; margin-top: 0px;}
  .menuselection {margin-left:10px}
  .bullet {list-style-type: disc;margin-top:12px; margin-left:36px; text-indent:-1em; }
  .codeblock {background-color: #ffffe6; display:block; margin-left:5px; padding:5px;}

  /* inline tags */
  .screen {font-weight:bold; color:#408080}                       /*** used refer to on-screen text ***/
  .name {font-style: italic}                                                       /*** used to tag names, such as variable names, file names, and so forth ***/
  .runinhead {font-weight: bold} 
  .superscript {vertical-align:super; font-size:80%}
  .subscript {vertical-align:sub; font-size:80%}


  --> 
  </style>
</head>

<body>
  <h1>アクティブ データセットの分割による SAV ファイルのセットの作成</h1>このプロシージャは、SPLIT FILES コマンドと同様に機能しますが、プロシージャによって別個に処理されるグループを定義するのではなく、分割されたデータを新規の SAV ファイルに書き込みます。これは、変換シンタックスまたはプロシージャ シンタックス (あるいはその両方) のブロックを各グループに別個に適用する必要がある場合には、特に役立ちます。拡張コマンド SPSSINC PROCESS FILES、またはそれと同等のダイアログ ボックスである「ユーティリティー」&gt;「ファイルの処理」で、このプロシージャからの出力を使用する場合には、SPLIT FILES メソッドの場合のような制限はありません。

  <p><span class="runinhead">ケース分割基準:</span> アクティブ データを複数のファイルから成るセットとして分割するために使用する 1 つ以上の変数を選択します。変数は文字列または数値のいずれかです。数値変数には整数値を指定する必要があります。ダイアログでは、変数はスケール型の測定の尺度なしで表示されます。</p>

  <p><span class="runinhead">出力場所:</span> 出力ファイルは、指定されたディレクトリに書き込むことができます (ディレクトリは、必要に応じて作成されます)。または、コマンドに新規の一時ディレクトリを作成させ、そこにファイルを書き込ませることができます。該当するラジオ ボタンにチェック マークを付けます。ディレクトリを指定する場合は、<span class=".screen">「出力ファイル ディレクトリ」</span>で選択します。一時ディレクトリの使用を選択する場合は、このコントロールを空にする必要があります。</p>

  <p class="bullet">一時ディレクトリは、ジョブの終了時に削除されません。</p>

  <p>分割値またはラベルに基づいてディレクトリへの出力ファイルの経路を指定するために、分割変数の値またはラベルを使用するパターンを指定できます。分割変数を参照するには、ディレクトリ指定内で ${variable name} として参照します。例えば、値が「a」および「b」である変数 xvar によって分割する場合は、次のように記述します。<br>
  c:/target/x${xvar}<br>
この指定では、xvar 値に従って /target/xa または /target/xb にファイルが書き込まれます。</p>

  <p>変数参照は、必要に応じていくつでも使用できます。ディレクトリは、必要に応じて作成されます。データ内で実際に見つかった値に対してのみ作成されます。パターン テンプレート メカニズムをファイル名に対して使用することもできます。</p>

  <p class="bullet">ディレクトリ名またはファイル名に含まれる " などの正しくない文字は、アンダースコアー (_) に置き換えられます。</p>

  <p class="bullet">ファイル システムでディレクトリおよびファイル名の大/小文字が区別されるか、Windows の場合のように区別されないかによって、結果が異なることがあります。</p>

  <p><span class="runinhead">既存の SAV ファイルをターゲット ディレクトリから削除:</span> 明示的に指定されたディレクトリを使用している場合は、新規ファイルが生成される前に、すべての既存の SAV ファイルをターゲットから削除できます。これにより、乱雑なファイルを整理し、これらのファイルを後でグループとして処理しやすくすることができますが、何が削除されるかを理解しておいてください。パターンを使用している場合、ディレクトリからは、データセット内に実際に出現するパターン値に対応するファイルのみが消去されます。</p>

  <p><span class="runinhead">出力ファイル名:</span> デフォルトでは、出力ファイル名は、すべての分割変数の値またはラベルを結合し、その文字列をアンダースコアーで区切ることによって作成されます。固定されたファイル名、またはディレクトリに関して説明したようなパターンを使用して、このファイル名をオーバーライドできます。.sav 拡張子が自動的に追加されます。</p>

  <p class="bullet">固定されたファイル名はディレクトリ パターンと結合する必要があります。そうしないと、すべてのデータが同じファイルに書き込まれます。</p>

  <p><span class="runinhead">出力リスト ファイル:</span> コマンドによって作成されたすべての SAV ファイルをリストするファイルを作成するためのファイル指定を入力します。ファイルへの絶対パスおよびそのファイルの分割値が含まれます。これにより、ファイルのセットの後続の処理またはロギングのために、このプロシージャの出力を容易に使用できます。ファイルは Unicode UTF-8 エンコードで書き込まれます。</p>

  <h2>オプション</h2>「オプション」サブダイアログを使用して、出力ファイルの命名の原則、およびビューア内にファイルのリストを表示するかどうかを指定します。

  <p><span class="runinhead">出力ファイル名:</span> ファイル名は 3 つの方法で生成できます。</p>

  <p class="bullet">分割変数の値によって生成します。例えば、2 つの変数がある場合、ファイル名の形式は <i>value1_value2</i>.sav です。値がシステム欠損値である場合、ルート名は <i>$Sysmis</i> です。文字列変数の場合、空白値が指定されていると、単に <i>.sav</i> という名前のファイルが生成されます。これは正しいファイル名ですが、一部のオペレーティング システムでは、このファイル名はデフォルトでディレクトリ リスト内に表示されません。パターンが使用される場合、パターン内の置換には変数値が使用されます。</p>

  <p class="bullet">分割変数の値ラベルによって生成します。分割値の値ラベルがルート名として使用されます。ラベルがない場合は、代わりに値が使用されます。パターンが使用される場合、パターン内の置換には値ラベルが使用されます。</p>

  <p class="bullet">シーケンス番号によって生成します。ファイル ルート名は、0001 から必要な最大番号までです。値またはラベルによって生成される名前が扱いにくい場合は、このオプションが役立ちます。ファイル名が指定されている場合にこのオプションを使用することはできません。</p>

  <p>一部のオペレーティング システムでは無効になる文字がファイル名に含まれている場合、それらの文字はすべて空白に置き換えられます。これには、"、/、\、&lt;、&gt;、*、および ? が含まれます。</p>

  <p><span class="runinhead">名前の接頭辞:</span> 各ルート名の最初の部分として以下のテキストを含めるには、このボックスにチェック マークを付けます。名前の残りの部分は、アンダースコアーで区切られた出力ファイル名の設定によって決定されます。</p>

  <p class="bullet">このオプションをパターンと組み合わせて使用することはできません。</p>

  <p><span class="runinhead">書き込まれたファイルのリストを表示:</span> 書き込まれたファイルおよび関連付けられた分割変数値のリストをビューア内に生成するには、このボックスにチェック マークを付けます。</p>

  <h2>その他の機能</h2>次のコマンドを実行します。<br>
  SPSSINC SPLIT DATASET /HELP.<br>
シンタックス全体の説明が表示されます。シンタックスを使用して、出力を SPSS プロセッサーの現行作業ディレクトリに書き込むことができます。コマンド SHOW DIRECTORY は、そのディレクトリの名前を表示します。

  <p>SAV ファイルを生成するために必要なデータ パスの数は、ご使用の IBM SPSS Statistics バージョンによって異なります。バージョン 17 では、パスごとに 10 個の SAV ファイルを生成できます。それより新しいバージョンでは、一度に 64 個が生成されます。</p>

  <h2>要件</h2>このコマンドには、Python Programmability プラグインが必要です。Python プラグインは、IBM SPSS Statistics CD 上にあります。または、SPSS Community (www.ibm.com/developerworks/spssdevcentral) からダウンロードできます。
  <hr>

  <p style="font-size:80%;">© Copyright IBM Corp. 1989, 2013</p>
</body>
</html>
